---
date: 2022-02-18 18:18:00
title: VimでクリップボードからMarkdownのYoutubeサムネリンクを生成する
tags: プログラミング
---
MarkdownのYoutubeサムネリンクが欲しいときにこれ。ブラウザ上でURLをコピーしたら、VimでF3でおｋ。なお関数名。

```vimscript
inoremap <F3> <C-R>=YankToMarkdownYoutubeLink()<CR>

function YankToMarkdownYoutubeLink()
  let l:w = matchstr(@*,'\vwatch?v=([^&]+)')
  let l:id = matchstr(l:w,'\v[^?=]+$')
  let l:m = '[![](http://img.youtube.com/vi/' . l:id . '/0.jpg)](https://www.youtube.com/watch?v=' . l:id . ')'
  return l:m
endfunction
```
