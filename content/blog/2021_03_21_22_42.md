---
date: 2021-03-21 22:42:00
title: ブログなど今時のものじゃないんよ、でも、ほら、そう、僕はそれがいい
tags: 
  - プログラミング
  - 短歌
---
 

Nextjsでブログ作ってる。悪くないんだけど、よくわからないところがあってよくわからない。getStaticPropsで作ったデータがトップのコンポーネントに渡されるわけだけど、そのデータはビルドタイムにもっているだけなのか、クライアント側でも持つことになるのか、どうなんよ。チュートリアルにそって愚直にやったらgetStaticPropsでブログ記事全部取得する感じになってしまったんだけど、クライアントのメモリにそれが全部乗るはめになりそうだが、はたして。描写はreact-infinitiy-scroll的なやつで下までスクロールするとオートロードする感じになっているので、描写さえしなければそう重くは無い気もするが、無駄な所をメモリに乗っけてる感じ気持ち悪い。普通にリンクのリストにしてクリックしたら、ファイル取得する感じが無難だろうなあ。なんだけど、2度手間が発生しそうでそれもそれで、要勉強。

 

はてなブログのエクスポートファイルをパーズするという無駄そうなコードを書いた。最初Powershellで書いて、途中だめだこれ。になってnodejsでnpmモジュール拾ってきてパーズした。pwsh好きなんだけど、自分の語彙が足りてなかったのでおとなしくnpmに頼った。htmlをmarkdownに変換するという微妙なコードが悲惨な感じに時間使った。正直Markdownじゃなくてオレオレフォーマットを作りたかったが妥協。欲しくなったらまた書けばいいかな。画像をリンクにして埋め込むの [![alt](img src)](a href) って書くのしんどいよ。テキストベースのフォーマットでなんかないの。

