<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5" />
    <title>bercriber's blog</title>
    <link rel="stylesheet" href="/css/base.css">
    <link rel="icon" href="/public/favicon.ico" />
    
  </head>
  <body>
    
      <header class="header">
        <h2 class="header-title">Bercriber's Blog</h2>
        <img class="header-icon" src="/public/bercriber.jpg" />
      </header>
    

    
    
  </body>
</html>


<div class="tags-list">


  
    <a class="tags-list-elem" href="/blog/tag/短歌">短歌</a>
  

  
    <a class="tags-list-elem" href="/blog/tag/プログラミング">プログラミング</a>
  

</div>




<div class="post-header">
  <p class="post-date">2021/03/21 22:42</p>
  <hr>
  <h2 class="post-title">ブログなど今時のものじゃないんよ、でも、ほら、そう、僕はそれがいい</h2>
</div>

<div class="post-main">

  <p></p>
<p>Nextjsでブログ作ってる。悪くないんだけど、よくわからないところがあってよくわからない。getStaticPropsで作ったデータがトップのコンポーネントに渡されるわけだけど、そのデータはビルドタイムにもっているだけなのか、クライアント側でも持つことになるのか、どうなんよ。チュートリアルにそって愚直にやったらgetStaticPropsでブログ記事全部取得する感じになってしまったんだけど、クライアントのメモリにそれが全部乗るはめになりそうだが、はたして。描写はreact-infinitiy-scroll的なやつで下までスクロールするとオートロードする感じになっているので、描写さえしなければそう重くは無い気もするが、無駄な所をメモリに乗っけてる感じ気持ち悪い。普通にリンクのリストにしてクリックしたら、ファイル取得する感じが無難だろうなあ。なんだけど、2度手間が発生しそうでそれもそれで、要勉強。</p>
<p></p>
<p>はてなブログのエクスポートファイルをパーズするという無駄そうなコードを書いた。最初Powershellで書いて、途中だめだこれ。になってnodejsでnpmモジュール拾ってきてパーズした。pwsh好きなんだけど、自分の語彙が足りてなかったのでおとなしくnpmに頼った。htmlをmarkdownに変換するという微妙なコードが悲惨な感じに時間使った。正直Markdownじゃなくてオレオレフォーマットを作りたかったが妥協。欲しくなったらまた書けばいいかな。画像をリンクにして埋め込むの [![alt](img src)](a href) って書くのしんどいよ。テキストベースのフォーマットでなんかないの。</p>


</div>
